<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Valentine?</title>
  <style>
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial; margin: 0; padding: 0; background:#fff7fb; }
    .wrap { max-width: 720px; margin: 0 auto; padding: 28px 18px 50px; text-align: center; }
    h1 { font-size: 28px; margin: 18px 0 10px; }
    .card { background: white; border-radius: 18px; padding: 22px; box-shadow: 0 8px 24px rgba(0,0,0,.08); }
    .q { font-size: 22px; margin: 8px 0 18px; }
    .btns { display: flex; gap: 12px; justify-content: center; flex-wrap: wrap; }
    button { border: 0; border-radius: 14px; padding: 14px 18px; font-size: 18px; cursor: pointer; }
    .yes { background: #ff4d88; color: white; }
    .no  { background: #111827; color: white; }
    .reset { margin-top: 14px; background: #f3f4f6; color: #111827; }
    .result { margin-top: 18px; min-height: 72px; }
    .big { font-size: 44px; line-height: 1; margin: 6px 0; }
    .msg { font-size: 20px; }
    .small { margin-top: 10px; font-size: 13px; color: #6b7280; }
  </style>
</head>
<body>
  <div class="wrap">
    <h1>üíò Azshuneeh's invitation to be my one & only valantine üíò</h1>

    <div class="card">
      <div class="q">will you be my valentine ?</div>

      <div class="btns">
        <button class="yes" id="yesBtn">Yes ‚ù§Ô∏è</button>
        <button class="no" id="noBtn">No üò°</button>
      </div>

      <div class="result" id="result">
        <div class="small">Pick one‚Ä¶ (u better pick the right one or else)</div>
      </div>

      <button class="reset" id="resetBtn">Reset / Try again</button>
    </div>
  </div>

  <script>
    // 1) Put your Google Apps Script "web app" URL here (from step 3 below).
    // If you don't want notifications, leave it as an empty string: ""
    const NOTIFY_URL = ""; // <-- paste your URL here later

    const result = document.getElementById("result");
    const yesBtn = document.getElementById("yesBtn");
    const noBtn = document.getElementById("noBtn");
    const resetBtn = document.getElementById("resetBtn");

    function render(choice) {
      if (choice === "yes") {
        result.innerHTML = `
          <div class="big">üòç</div>
          <div class="msg">Zooj & Mart ‚úÖ‚ù§Ô∏è your tooz will be eaten with love üçë‚ù§Ô∏è</div>
        `;
      } else if (choice === "no") {
        result.innerHTML = `
          <div class="big">üò¢</div>
          <div class="msg">Your tooz will be beaten without love, go back to yesü§¨</div>
        `;
      } else {
        result.innerHTML = `<div class="small">Pick one‚Ä¶ (u better pick the right one or else)</div>`;
      }
    }

    async function notify(choice) {
      if (!NOTIFY_URL) return;

      // A tiny "session id" so you can see multiple clicks from the same visit
      const sid = sessionStorage.getItem("sid") || (crypto.randomUUID ? crypto.randomUUID() : String(Math.random()).slice(2));
      sessionStorage.setItem("sid", sid);

      const payload = {
        choice,
        sid,
        // Optional: useful metadata (not always available depending on browser/privacy settings)
        at: new Date().toISOString(),
        ua: navigator.userAgent
      };

      // Send without interrupting UX
      try {
        // Use sendBeacon when possible (more reliable on mobile)
        if (navigator.sendBeacon) {
          const blob = new Blob([JSON.stringify(payload)], { type: "application/json" });
          navigator.sendBeacon(NOTIFY_URL, blob);
        } else {
          await fetch(NOTIFY_URL, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(payload),
            mode: "no-cors"
          });
        }
      } catch (e) { /* ignore */ }
    }

    yesBtn.addEventListener("click", () => { render("yes"); notify("yes"); });
    noBtn.addEventListener("click", () => { render("no"); notify("no"); });
    resetBtn.addEventListener("click", () => render(null));
  </script>
</body>
</html>
